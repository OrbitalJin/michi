version: 2

before:
  hooks:
    - go mod tidy 

builds:
  - id: michi
    main: ./cmd/michi.go
    binary: michi
    goos:
      - linux
      - darwin
    goarch:
      - amd64
      - arm64 
    ldflags:
      - -s -w
      - -X github.com/OrbitalJin/michi/internal.Version={{ .Version }}{{ if .Commit }}-{{ .Commit }}{{ end }}

archives:
  - id: default
    formats: [tar.gz]
    name_template: "{{ .ProjectName }}_{{ .Os }}_{{ .Arch }}"
    files:
      - LICENSE
      - README.md

release:
  disable: false 
  github:
    owner: michiapp
    name: michi
  footer: |
    ---
    üîé michi ‚Äî a blazing-fast local search multiplexer.  
    üëâ Install instructions in the README.  
    ‚ù§Ô∏è Contributions, feedback, and stars are welcome!
